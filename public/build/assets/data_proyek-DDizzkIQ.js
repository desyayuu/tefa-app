document.addEventListener("DOMContentLoaded",function(){$("#jenis_proyek, #mitra_id").select2({theme:"bootstrap-5",width:"100%",dropdownParent:$("#exampleModalToggle")}),$(".select2-dosen, .select2-profesional").select2({theme:"bootstrap-5",width:"100%",dropdownParent:$("#exampleModalToggle"),placeholder:"Cari nama...",allowClear:!0}),$("#leader_type").change(function(){const e=$(this).val();$("#dosen_leader_section, #profesional_leader_section").hide(),$("#dosen_leader_id, #profesional_leader_id").val(null).trigger("change"),e==="Dosen"?($("#dosen_leader_section").show(),$("#profesional_leader_id").prop("disabled",!0).prop("required",!1),$("#dosen_leader_id").prop("disabled",!1).prop("required",!0)):e==="Profesional"&&($("#profesional_leader_section").show(),$("#dosen_leader_id").prop("disabled",!0).prop("required",!1),$("#profesional_leader_id").prop("disabled",!1).prop("required",!0))}),$("form").submit(function(e){const l=$("#leader_type").val();let a;l==="Dosen"?a=$("#dosen_leader_id").val():l==="Profesional"&&(a=$("#profesional_leader_id").val()),l&&!a&&(e.preventDefault(),alert("Silakan pilih nama Project Leader"))}),$("#addLeaderModal").length&&($("#namaPL").select2({theme:"bootstrap-5",dropdownParent:$("#addLeaderModal"),placeholder:"Cari nama...",allowClear:!0,width:"100%"}),$("#addLeaderModal").on("shown.bs.modal",function(){$("#namaPL").select2({theme:"bootstrap-5",dropdownParent:$("#addLeaderModal"),placeholder:"Cari nama...",allowClear:!0,width:"100%"})})),$("#tanggal_mulai, #tanggal_selesai").change(function(){const e=$("#tanggal_mulai").val(),l=$("#tanggal_selesai").val();e&&l&&new Date(e)>new Date(l)&&(alert("Tanggal selesai tidak boleh lebih awal dari tanggal mulai."),$("#tanggal_selesai").val(""))}),document.querySelectorAll(".currency-format").forEach(function(e){e.addEventListener("input",function(l){let a=this.value.replace(/\D/g,"");a!==""&&(a=parseInt(a,10).toLocaleString("id-ID")),this.value=a})})});
